{% extends 'layout.html.twig' %}

{% block body %}

    {# banner #}
    {% include 'legacy/common/carousel.html.twig' %}

    {# todo: replace with best seller products #}
    {% include 'legacy/common/product/showcase.html.twig' with {'headerTitle': 'Meilleures ventes', "products": latestProducts } %}

    <div class="reinsurance container">
        <div class="row text-center">
            <div class="col-lg-3 col-lg-offset-2">
                <div class="icon icon-box text-blue"></div>
                <div class="light-title">Livraison express<br />24/48h</div>
                <p></p>
            </div>

            <div class="col-lg-3">
                <div class="icon icon-shield text-blue"></div>
                <div class="light-title">Paiement 100%<br />sécurisé</div>
                <p></p>
            </div>

            <div class="col-lg-3">
                <div class="icon icon-phone-o text-blue"></div>
                <div class="light-title">Assistance & Conseils<br />0800 97 55 55 (gratuit)</div>
                <p></p>
            </div>
        </div>
    </div>

    {% include 'legacy/common/product/showcase.html.twig' with {'headerTitle': 'Dernières nouveautés', "products": latestProducts } %}

    {# basket popup #}
    {% include 'legacy/common/basket-popup.html.twig' %}

    <script>
        $(".add-to-basket").on("click", function() {

            var declinationId = $(this).data("id");
            var quantity = 1;

            $.ajax({
                type: "POST",
                url: "{{ path('basket_add_item') }}",
                data: { declinationId: declinationId, quantity: quantity },
                success: function(response) {
                    hydrateModal(response.addedProduct, response.message);
                }
            });
        });
    </script>

{% endblock %}

